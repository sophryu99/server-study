

# server_study

π”† server study repository π”†

μ°Έκ³ μλ£: μƒν™μ½”λ”© Web2 - Node.js, 26th Server seminar μλ£



[TOC]

## Javascript

### Scope

<u>Function Scope</u>

- function λΈ”λ΅λ§μ„ λ²”μ„λ΅ μΈμ •
- μ „μ—­ ν•¨μ μ™Έλ¶€μ—μ„ μƒμ„±ν• λ³€μλ” λ¨λ‘ μ „μ—­ λ³€μ

<u>Block Scope</u>

- λΈ”λ΅μ λ²”μ„λ” if, while, for, funciton λ“±μ μ¤‘κ΄„νΈ μ½”λ“ λΈ”λ΅ λ‚΄λ¶€μ—μ„λ§ μ ν¨
- μ½”λ“ λΈ”λ΅ μ™Έλ¶€μ—μ„λ” μ°Έμ΅° λ¶κ°€λ¥



### JSON

**μλ°”μ¤ν¬λ¦½νΈ κ°μ²΄ ν‘ν„μ‹**

- μ΄λ¦„κ³Ό κ°’μΌλ΅ κµ¬μ„±λ ν”„λ΅νΌν‹°μ μ •λ ¬λμ§€ μ•μ€ μ§‘ν•©

- ν΄λΌμ™€ ν†µμ‹  μ‹ μ£Όλ΅ μ‚¬μ© - application/json

```js
var sehwa = {
    name: 'sehwa ryu',
    age : 22,
    part : 'iOS',
    study : ['happy-algorithm', 'wangchobo'],
    printName : function () {
        console.log('name', this.name)
    }, 
    printAge : function () {
        console.log('age', this.age)
    }

}
```



## Node.js



## νλ¦„ μ μ–΄



## Module

### node.js λ‚΄μ¥λ¨λ“

**crypto**: λ¬Έμμ—΄μ„ μ•”νΈν™”, λ³µνΈν™”, ν•΄μ‹±ν•λ” λ¨λ“

- λ³µνΈν™”ν•  μ μ—†λ” μ•”νΈν™” λ°©μ‹
- λΉ„λ°€λ²νΈ μ•”νΈν™”μ— μ£Όλ΅ μ‚¬μ© 
- μ£Όλ΅ ν•΄μ‹κΈ°λ²•μ„ μ‚¬μ©

```js
/* 
crypto.createHash(algorithm<string>) : μ•”νΈν™” μ•κ³ λ¦¬μ¦. <Hash> κ°’μ„ λ°ν™, μ£Όλ΅ sha512λ¥Ό μ‚¬μ©
hash.update(data<string>) : λ³€ν™ν•  λ¬Έμμ—΄μ„ λ„£μ–΄μ¤
hash.digest(encoding) : μΈμ½”λ”©ν•  μ•κ³ λ¦¬μ¦μ„ λ„£μ–΄μ¤ (base64, hex, latin1), κ³ μ •λ κΈΈμ΄ κ°’μ„ μ„¤μ •, λ³€ν™λ λ¬Έμμ—΄μ„ λ°ν™
*/
const hash = crypto.createHmac('sha256', secret)
                    .update('I love cupcakes')
                    .digest('hex');
```



<u>λΉ„λ°€λ²νΈ μ €μ¥ λ°©λ²•</u>

1. λ‹¨μ ν…μ¤νΈ -> λΉ„μ¶”
2. Hashing 
3. Hashing with salt: ν¨μ¤μ›λ“μ— μ†κΈμ„ μ³μ„ μ•”νΈν™”
4. Key stretching: ν¨μ¤μ›λ“μ— μ†κΈμ„ μ³μ„ μ•”νΈν™” κ³Όμ •μ„ Nλ² μ‹¤ν–‰



```js
crypto.pbkdf2(password, salt, iterations, keylen, digest, callback)
// pbkdf2 (λΉ„λ°€λ²νΈ, μ†”νΈ κ°’, λ°λ³µ νμ, μ¶λ ¥ byte, ν•΄μ‹ μ•κ³ λ¦¬μ¦, callback)
```



**File system module**: νμΌ μ‹μ¤ν…μ— μ ‘κ·Όν•λ” λ¨λ“

- νμΌ μƒμ„±, μ‚­μ , μ½κΈ°, μ“°κΈ° λ“± μν–‰ OR ν΄λ” μƒμ„±, μ‚­μ 



<u>λΉ„λ™κΈ° λ°©μ‹ vs λ™κΈ° λ°©μ‹</u>



## Express

**Express**: Nodeλ¥Ό μ„ν• λΉ λ¥΄κ³  κ°„κ²°ν• μ›Ή ν”„λ μ„μ›ν¬

- HTTP μ”μ²­μ— λ€ν•΄ λΌμ°ν… λ° λ―Έλ“¤μ›¨μ–΄ κΈ°λ¥ μ κ³µ



terminalμ—μ„ express <projectμ΄λ¦„>μΌλ΅ ν”„λ μ„μ›ν¬ μƒμ„± κ°€λ¥!



**Express κµ¬μ΅°**

- bin/www
  - μ„λ²„λ¥Ό μ‹¤ν–‰ν•λ” μ¤ν¬λ¦½νΈ: ν”„λ΅μ νΈμ— ν• λ‹Ήλλ” ν¬νΈ λ²νΈλ¥Ό λ°”κΏ€ μ μμ
- public/
  - κ°μΆ… λ¦¬μ†μ¤λ“¤ ν¬ν•¨: μ΄λ―Έμ§€, css, js etc.
- routes/
  - νμ΄μ§€ λΌμ°ν…κ³Ό κ΄€λ ¨λ νμΌ μ €μ¥: μ£Όμ†λ³„λ΅ λΌμ°ν„°λ“¤μ„ λ¨μ•„λ‘ 
  - URLλ³„λ΅ μ‹¤ν–‰λλ” μ‹¤μ  μ„λ²„ λ΅μ§
  - <u>index.jsμ„ μ‹μ‘μΌλ΅ κ΄€λ¦¬ν•΄μ£Όλ©΄ λ¨!</u>
- views/
  - Jade, ejs λ“± ν…ν”λ¦Ώ νμΌμ„ λ¨μ•„λ‘ 
  - μ›Ή μ„λ²„ μ‚¬μ© μ‹ ν•΄λ‹Ή ν΄λ”μ νμΌλ“¤μ„ μ‚¬μ©ν•΄μ„ λ λ”λ§
- /app.js
  - ν”„λ΅μ νΈμ μ¤‘μ‹¬
  - ν•µμ‹¬μ μΈ μ„λ²„ μ—­ν• 
  - λ―Έλ“¤μ›¨μ–΄ κ΄€λ¦¬κ°€ μ΄λ£¨μ–΄μ§
  - λΌμ°ν…μ μ‹μ‘μ 
- /package.json
  - npm μμ΅΄μ„± νμΌλ“¤
  - ν„μ¬ ν”„λ΅μ νΈμ— μ‚¬μ©λ λ¨λ“μ„ μ„¤μΉν•λ”λ° ν•„μ”ν• λ‚΄μ©μ„ λ‹΄μ



**routing**μ΄λ€? 

- URI(λλ” κ²½λ΅) λ° νΉμ •ν• HTTP μ”μ²­ λ©”μ†λ“ (GET, POST λ“±) μΈ νΉμ • μ—”λ“ν¬μΈνΈμ— λ€ν• ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ— μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ‘λ‹µν•λ” λ°©λ²•μ„ κ²°μ •
- Expressμ—μ„λ” app.jsμ—μ„ λ¨λ“  μ”μ²­ κ²½λ΅λ¥Ό μ²λ¦¬ν•μ§€ μ•κ³ , routes ν΄λ” μ•„λμ index.jsλ¥Ό κΈ°μ¤€μΌλ΅ νμΌλ“¤μ„ μ¶”κ°€ν•λ©° μ •λ¦¬
- ν• νμΌμ— λ¨λ“  λΌμ°ν…μ„ κ΄€λ¦¬ν•λ” κ±΄ μ§€μ–‘

